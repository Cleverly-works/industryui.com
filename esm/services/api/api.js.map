{"version":3,"sources":["../../../components/services/api/api.js"],"names":["useContext","axios","ConfigContext","Api","apiConfig","init","mocker","bearerToken","window","localStorage","getItem","headers","Authorization","http","create","apply","get","url","params","post","data","put"],"mappings":";;;AAAA;AACA;AACA;AAEA;AACA,SAASA,UAAT,QAA2B,OAA3B,C,CAEA;;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,SAASC,aAAT,QAA8B,KAA9B;AAEA,OAAO,IAAMC,GAAG,GAAG,SAANA,GAAM,GAAM;AAAA,oBACDH,UAAU,CAACE,aAAD,CADT;AAAA,MACfE,SADe,eACfA,SADe;;AAGvB,SAAO;AACLC,IAAAA,IAAI,EAAE,gBAAM;AACV,UAAMC,MAAM,GAAG,EAAf;AAEA,UAAMC,WAAW,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,aAA5B,CAApB;;AAEA,UAAIH,WAAJ,EAAiB;AACfH,QAAAA,SAAS,CAACO,OAAV,CAAkBC,aAAlB,GAAkC,YAAYL,WAA9C;AACD;;AAED,UAAMM,IAAI,GAAGZ,KAAK,CAACa,MAAN,CAAaV,SAAb,CAAb;AAEAE,MAAAA,MAAM,CAACS,KAAP,CAAaF,IAAb;AAEA,aAAOA,IAAP;AACD,KAfI;AAiBLG,IAAAA,GAAG;AAAA,0EAAE,iBAAOC,GAAP,EAAYC,MAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACGL,gBAAAA,IADH,GACUV,GAAG,CAACE,IAAJ,EADV;AAAA,iDAEIQ,IAAI,CAACG,GAAL,CAASC,GAAT,EAAc;AAAEC,kBAAAA,MAAM,EAANA;AAAF,iBAAd,CAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAjBE;AAsBLC,IAAAA,IAAI;AAAA,2EAAE,kBAAOF,GAAP,EAAYG,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACEP,gBAAAA,IADF,GACSV,GAAG,CAACE,IAAJ,EADT;AAAA,kDAEGQ,IAAI,CAACM,IAAL,CAAUF,GAAV,EAAeG,IAAf,CAFH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAtBC;AA2BLC,IAAAA,GAAG;AAAA,0EAAE,kBAAOJ,GAAP,EAAYG,IAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AACGP,gBAAAA,IADH,GACUV,GAAG,CAACE,IAAJ,EADV;AAAA,kDAEIQ,IAAI,CAACQ,GAAL,CAASJ,GAAT,EAAcG,IAAd,CAFJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OA3BE;AAgCL;AAAA,8EAAQ,kBAAOH,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACAJ,gBAAAA,IADA,GACOV,GAAG,CAACE,IAAJ,EADP;AAAA,kDAECQ,IAAI,UAAJ,CAAYI,GAAZ,CAFD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAR;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAhCK,GAAP;AAqCD,CAxCM","sourcesContent":["/**\n * API\n */\n\n// React\nimport { useContext } from 'react'\n\n// Axios\nimport axios from 'axios'\n\n// UI\nimport { ConfigContext } from '../'\n\nexport const Api = () => {\n  const { apiConfig } = useContext(ConfigContext)\n\n  return {\n    init: () => {\n      const mocker = {}\n\n      const bearerToken = window.localStorage.getItem('bearerToken')\n\n      if (bearerToken) {\n        apiConfig.headers.Authorization = 'Bearer ' + bearerToken\n      }\n\n      const http = axios.create(apiConfig)\n\n      mocker.apply(http)\n\n      return http\n    },\n\n    get: async (url, params) => {\n      const http = Api.init()\n      return http.get(url, { params })\n    },\n\n    post: async (url, data) => {\n      const http = Api.init()\n      return http.post(url, data)\n    },\n\n    put: async (url, data) => {\n      const http = Api.init()\n      return http.put(url, data)\n    },\n\n    delete: async (url) => {\n      const http = Api.init()\n      return http.delete(url)\n    }\n  }\n}\n"],"file":"api.js"}