{"version":3,"sources":["../../../components/services/offCanvas/provider.js"],"names":["React","useState","styled","getLast","getFirst","OffCanvas","OffCanvasContext","DURATION","OffCanvasProvider","children","dataManager","setDataManager","visibilityManager","setVisibilityManager","handleClose","prev","pop","setTimeout","length","handleShow","data","content","options","show","close","context","handleSubmit","hasAvatar","headerContent","title","overlayOpacity","placement","submit","variant","width","map","d","i","StyledWrapper","div"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,mBAAnB,C,CAEA;;AACA,SAASC,OAAT,EAAkBC,QAAlB,EAA4BC,SAA5B,EAAuCC,gBAAvC,QAA+D,QAA/D;AAEA,IAAMC,QAAQ,GAAG,GAAjB;AAEA,OAAO,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,OAAkB;AAAA,MAAfC,QAAe,QAAfA,QAAe;;AAAA,kBACXR,QAAQ,CAAC,EAAD,CADG;AAAA;AAAA,MAC1CS,WAD0C;AAAA,MAC7BC,cAD6B;;AAAA,mBAECV,QAAQ,CAAC,EAAD,CAFT;AAAA;AAAA,MAE1CW,iBAF0C;AAAA,MAEvBC,oBAFuB;;AAIjD,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxBD,IAAAA,oBAAoB,CAAC,UAACE,IAAD,EAAU;AAC7BA,MAAAA,IAAI,CAACC,GAAL;AACA,gCAAWD,IAAX;AACD,KAHmB,CAApB,CADwB,CAMxB;;AACAE,IAAAA,UAAU,CACR,YAAM;AACJN,MAAAA,cAAc,CAAC,UAACI,IAAD,EAAU;AACvBA,QAAAA,IAAI,CAACC,GAAL;AACA,kCAAWD,IAAX;AACD,OAHa,CAAd;AAID,KANO,EAORL,WAAW,CAACQ,MAAZ,KAAuB,CAAvB,GAA2BX,QAA3B,GAAsC,CAP9B,CAAV;AASD,GAhBD;;AAkBA,MAAMY,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;AAC3B,QAAIA,IAAI,IAAIA,IAAI,CAACC,OAAjB,EAA0B;AACxBR,MAAAA,oBAAoB,CAAC,UAACE,IAAD;AAAA,4CAAcA,IAAd,IAAoB,IAApB;AAAA,OAAD,CAApB;AACAJ,MAAAA,cAAc,CAAC,UAACI,IAAD;AAAA,4CAAcA,IAAd,IAAoBK,IAApB;AAAA,OAAD,CAAd;AACD,KAHD,MAGO;AACLN,MAAAA,WAAW;AACZ;AACF,GAPD,CAtBiD,CA+BjD;;;AACA,MAAMQ,OAAO,GAAGlB,QAAQ,CAACM,WAAD,CAAxB,CAhCiD,CAkCjD;;AACA,MAAMU,IAAI,GAAGjB,OAAO,CAACO,WAAD,CAApB;AAEA,sBACE,oBAAC,gBAAD,CAAkB,QAAlB;AACE,IAAA,KAAK,EAAE;AACLa,MAAAA,IAAI,EAAEJ,UADD;AAELK,MAAAA,KAAK,EAAEV;AAFF;AADT,KAKGL,QALH,eAOE,oBAAC,SAAD;AACE,IAAA,OAAO,EAAEW,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEK,OADjB;AAEE,IAAA,YAAY,EAAEL,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEM,YAFtB;AAGE,IAAA,SAAS,EAAEN,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEO,SAHnB;AAIE,IAAA,aAAa,EAAEP,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEQ,aAJvB;AAKE,IAAA,UAAU,EAAE,CAAAR,IAAI,SAAJ,IAAAA,IAAI,WAAJ,YAAAA,IAAI,CAAES,KAAN,KAAe,EAL7B;AAME,IAAA,gBAAgB,MANlB;AAOE,IAAA,OAAO,MAPT;AAQE,IAAA,cAAc,EAAET,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEU,cARxB;AASE,IAAA,SAAS,EAAER,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAES,SATtB;AAUE,IAAA,MAAM,EAAEX,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEY,MAVhB;AAWE,IAAA,IAAI,EAAE,CAAC,CAACpB,iBAAiB,CAACM,MAX5B;AAYE,IAAA,UAAU,EAAEJ,WAZd;AAaE,IAAA,kBAAkB,EAAEP,QAbtB;AAcE,IAAA,OAAO,EAAEa,IAAF,aAAEA,IAAF,uBAAEA,IAAI,CAAEa,OAdjB;AAeE,IAAA,KAAK,EAAEX,OAAF,aAAEA,OAAF,uBAAEA,OAAO,CAAEY;AAflB,KAgBGxB,WAAW,CAACyB,GAAZ,CAAgB,UAACC,CAAD,EAAIC,CAAJ;AAAA,wBACf,oBAAC,aAAD;AAAe,MAAA,GAAG,EAAEA,CAApB;AAAuB,MAAA,IAAI,EAAEA,CAAC,GAAG,CAAJ,KAAU3B,WAAW,CAACQ;AAAnD,OACGkB,CAAC,CAACf,OADL,CADe;AAAA,GAAhB,CAhBH,CAPF,CADF;AAgCD,CArEM;AAAMb,iB;AAuEb,IAAM8B,aAAa,GAAGpC,MAAM,CAACqC,GAAV,gFACf;AAAA,MAAGhB,IAAH,SAAGA,IAAH;AAAA,SAAc,CAACA,IAAD,IAAS,cAAvB;AAAA,CADe,CAAnB","sourcesContent":["/**\n * Services - OffCanvas - Provider\n */\n\n// React\nimport React, { useState } from 'react'\n\n// Styled Components\nimport styled from 'styled-components'\n\n// UI\nimport { getLast, getFirst, OffCanvas, OffCanvasContext } from '../../'\n\nconst DURATION = 300\n\nexport const OffCanvasProvider = ({ children }) => {\n  const [dataManager, setDataManager] = useState([])\n  const [visibilityManager, setVisibilityManager] = useState([])\n\n  const handleClose = () => {\n    setVisibilityManager((prev) => {\n      prev.pop()\n      return [...prev]\n    })\n\n    // Prevent data to disappear suddenly on close\n    setTimeout(\n      () => {\n        setDataManager((prev) => {\n          prev.pop()\n          return [...prev]\n        })\n      },\n      dataManager.length === 1 ? DURATION : 0\n    )\n  }\n\n  const handleShow = (data) => {\n    if (data && data.content) {\n      setVisibilityManager((prev) => [...prev, true])\n      setDataManager((prev) => [...prev, data])\n    } else {\n      handleClose()\n    }\n  }\n\n  // Get width and placement from first item\n  const options = getFirst(dataManager)\n\n  // Get title and content from last item\n  const data = getLast(dataManager)\n\n  return (\n    <OffCanvasContext.Provider\n      value={{\n        show: handleShow,\n        close: handleClose\n      }}>\n      {children}\n\n      <OffCanvas\n        context={data?.context}\n        handleSubmit={data?.handleSubmit}\n        hasAvatar={data?.hasAvatar}\n        headerContent={data?.headerContent}\n        headerText={data?.title || ''}\n        lockScrollOnOpen\n        overlay\n        overlayOpacity={data?.overlayOpacity}\n        placement={options?.placement}\n        submit={data?.submit}\n        show={!!visibilityManager.length}\n        toggleShow={handleClose}\n        transitionDuration={DURATION}\n        variant={data?.variant}\n        width={options?.width}>\n        {dataManager.map((d, i) => (\n          <StyledWrapper key={i} show={i + 1 === dataManager.length}>\n            {d.content}\n          </StyledWrapper>\n        ))}\n      </OffCanvas>\n    </OffCanvasContext.Provider>\n  )\n}\n\nconst StyledWrapper = styled.div`\n  ${({ show }) => !show && 'display:none'}\n`\n"],"file":"provider.js"}