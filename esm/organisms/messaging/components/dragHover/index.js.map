{"version":3,"sources":["../../../../../components/organisms/messaging/components/dragHover/index.js"],"names":["React","useEffect","useState","styled","css","Close","Preview","Space","Text","MessagingDragHover","files","handleRemoveFile","isOpen","onClose","onSubmit","selectedFile","setselectedFile","name","pagesNumber","documentInfo","setDocumentInfo","resetDocInfo","onFileClick","file","handleRemoveClick","e","length","handlePdfDocumentLoaded","data","map","item","index","DocumentNameWrapper","div","DocumentFileIcon","pdf","DocumentName","p","DucumentPagesNumber","DocumentInfoWrapper","theme","COLOUR","dark","RemoveContainer","info","PreviewContainer","grey","BottomPreviewContainer","blackGrey","ContentWrapper","white","CenterContainer","DragFilesHereContainer","LastFilePreviewContainer","visible","Head","MESSAGING","dropableHeaderBackground","Wrapper","open"],"mappings":"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","sourcesContent":["// React\nimport React, { useEffect, useState } from 'react'\n\n// Style\nimport styled, { css } from 'styled-components'\n\n// UI\nimport { Close, Preview, Space, Text } from '../../../../'\n\nexport const MessagingDragHover = ({\n  files,\n  handleRemoveFile,\n  isOpen,\n  onClose,\n  onSubmit\n}) => {\n  const [selectedFile, setselectedFile] = useState(null)\n  const [documentInfo, setDocumentInfo] = useState({\n    name: null,\n    pagesNumber: 0\n  })\n\n  const resetDocInfo = () => {\n    setDocumentInfo({ name: null, pagesNumber: 0 })\n  }\n\n  const onFileClick = (file) => {\n    resetDocInfo()\n    setselectedFile(file)\n  }\n  const handleRemoveClick = (e) => {\n    resetDocInfo()\n    handleRemoveFile(e)\n  }\n\n  useEffect(() => {\n    setselectedFile(files[files.length - 1])\n  }, [files.length, files[0] ? files[0].name : ''])\n\n  const handlePdfDocumentLoaded = (data) => {\n    setDocumentInfo(data)\n  }\n\n  return (\n    <Wrapper open={isOpen}>\n      <ContentWrapper>\n        <Head>\n          <Close click={onClose} context=\"white\" />\n          <Space marginLeft=\"sm\">\n            <Text context=\"white\">Preview</Text>\n          </Space>\n        </Head>\n        <LastFilePreviewContainer visible={files.length > 0}>\n          {selectedFile && (\n            <Preview\n              file={selectedFile}\n              showName\n              showPagesNumber\n              onPdfDocumentLoaded={handlePdfDocumentLoaded}\n            />\n          )}\n        </LastFilePreviewContainer>\n        {documentInfo.pagesNumber > 0 && files.length > 0 && (\n          <DocumentInfoWrapper>\n            <DocumentNameWrapper>\n              <DocumentFileIcon pdf />\n              <DocumentName>{documentInfo.name}</DocumentName>\n            </DocumentNameWrapper>\n            <DucumentPagesNumber>\n              {`${documentInfo.pagesNumber} Page${\n                documentInfo.pagesNumber > 1 ? 's' : ''\n              }`}\n            </DucumentPagesNumber>\n          </DocumentInfoWrapper>\n        )}\n        {!files[0] && (\n          <DragFilesHereContainer>\n            <Text size=\"xl\" context=\"dark\">\n              Drag File Here\n            </Text>\n          </DragFilesHereContainer>\n        )}\n\n        <PreviewContainer>\n          {selectedFile &&\n            files.map((item, index) => {\n              return (\n                <BottomPreviewContainer key={index}>\n                  <RemoveContainer>\n                    <Close\n                      click={() => handleRemoveClick(index)}\n                      context=\"white\"\n                    />\n                  </RemoveContainer>\n                  <Preview\n                    onClick={() => onFileClick(item)}\n                    file={item}\n                    small\n                  />\n                </BottomPreviewContainer>\n              )\n            })}\n        </PreviewContainer>\n      </ContentWrapper>\n    </Wrapper>\n  )\n}\nconst DocumentNameWrapper = styled.div`\n  align-items: center;\n  display: flex;\n`\nconst DocumentFileIcon = styled.div`\n  background-repeat: no-repeat;\n  height: 1.5rem;\n  margin-right: 1rem;\n  width: 1rem;\n  ${({ pdf }) => {\n    return (\n      pdf === true &&\n      css`\n        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAWCAYAAAAmaHdCAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEwSURBVHgBpZPvbYMwEMXfAZHykRGcDSAs0A3abNAVOkGaCdoNwgbtBmWAJKUT1CPwMVLkuGcaS4DABvKkky3/+flxd5DOsi8AD3BL0vG40mmag+iXTqddczMYAWiL6FWv19suZLo6oHkQC8qyvZlGuE/PDJoICYJPaC27y8QkjXHaQKmyb2OKkw+EYe+GL7Ebtv/iOeN0UtzsS3ZQ8RgPHXQ5ERwVRsgHsYoxE2IvS3gcuSB5DYmixJfc4T5RasUJNf/HE8/Tem25NOsxR8Jtv/c5yaksJTv4wWJhAKKO87nC5RLjei2andsusdYVt/aODod3nSTmtUe+tGVHNrHmou1a0f85xnYYCh4LHr/RrtCgmk5kHUpJdvM2FtCFiNvrMTx94YL8g2bIVKfEfSr+AAEZZZW4bAd8AAAAAElFTkSuQmCC');\n      `\n    )\n  }}\n`\nconst DocumentName = styled.p``\nconst DucumentPagesNumber = styled.p``\n\nconst DocumentInfoWrapper = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding: 0 3.5rem;\n  position: absolute;\n  top: 70%;\n  width: 100%;\n  p {\n    color: ${({ theme }) => theme.COLOUR.dark};\n    font-size: 1.25rem;\n    margin: 0;\n  }\n`\n\nconst RemoveContainer = styled.div`\n  align-items: center;\n  background: ${({ theme }) => theme.COLOUR.info};\n  border: 2px solid ${({ theme }) => theme.COLOUR.info};\n  border-radius: 50px;\n  display: flex;\n  height: 26px;\n  justify-content: center;\n  opacity: 0;\n  position: absolute;\n  right: -15px;\n  transition: opacity 0.3s;\n  top: -12px;\n  width: 26px;\n  z-index: 1;\n`\nconst PreviewContainer = styled.div`\n  align-items: center;\n  bottom: 0;\n  display: flex;\n  height: 9rem;\n  justify-content: center;\n  position: absolute;\n  width: 100%;\n  ${({ theme }) => css`\n    background-color: ${theme.COLOUR.grey};\n  `}\n`\n\nconst BottomPreviewContainer = styled.div`\n  border: 2px solid ${({ theme }) => theme.COLOUR.blackGrey};\n  box-sizing: content-box;\n  margin: 0 0.25rem;\n  position: relative;\n  width: 4rem;\n  transition-property: border-color;\n  transition-duration: 0.3s;\n  &:hover {\n    border: 2px solid ${({ theme }) => theme.COLOUR.info};\n    ${RemoveContainer} {\n      opacity: 1;\n    }\n  }\n`\n\nconst ContentWrapper = styled.div`\n  background-color: ${({ theme }) => theme.COLOUR.white};\n  height: 100%;\n  position: relative;\n  width: 100%;\n`\nconst CenterContainer = styled.div`\n  display: grid;\n  height: calc(100% - 17rem);\n  left: 3.5rem;\n  place-content: center;\n  position: absolute;\n  top: 4rem;\n  width: calc(100% - 7rem);\n`\nconst DragFilesHereContainer = styled(CenterContainer)`\n  border: 0.25rem dashed;\n`\nconst LastFilePreviewContainer = styled(CenterContainer)`\n  border-radius: 9px;\n  border: 1px solid;\n  opacity: 0;\n  overflow: hidden;\n  transform: scale(0.5);\n  transition-property: opacity, transform;\n  transition-duration: 0.3s;\n  ${({ visible }) =>\n    visible === true &&\n    css`\n      opacity: 1;\n      transform: scale(1);\n    `}\n`\n\nconst Head = styled.div`\n  align-items: center;\n  display: flex;\n  height: 3rem;\n  padding: 0 1.25rem;\n  background-color: ${({ theme: { MESSAGING } }) =>\n    MESSAGING.dropableHeaderBackground};\n`\nconst Wrapper = styled.div`\n  height: calc(100% - 5.3rem);\n  position: absolute;\n  top: 0;\n  transform: translateY(calc(100% + 5.3rem));\n  width: 100%;\n\n  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n  ${({ open }) =>\n    open === true &&\n    css`\n      transform: translateY(0%);\n    `}\n`\n"],"file":"index.js"}