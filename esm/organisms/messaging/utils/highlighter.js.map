{"version":3,"sources":["../../../../components/organisms/messaging/utils/highlighter.js"],"names":["React","CompositeDecorator","SearchHighlight","props","children","findWithRegex","regex","contentBlock","callback","text","getText","matchArr","start","end","exec","index","length","generateDecorator","highlightTerm","RegExp","strategy","component"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,kBAAT,QAAmC,UAAnC;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD;AAAA,sBACtB;AAAM,IAAA,SAAS,EAAC;AAAhB,KAAgDA,KAAK,CAACC,QAAtD,CADsB;AAAA,CAAxB;;AAAMF,e;;AAIN,IAAMG,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAQC,YAAR,EAAsBC,QAAtB,EAAmC;AACvD,MAAMC,IAAI,GAAGF,YAAY,CAACG,OAAb,EAAb;AACA,MAAIC,QAAJ,EAAcC,KAAd,EAAqBC,GAArB;;AACA,SAAO,CAACF,QAAQ,GAAGL,KAAK,CAACQ,IAAN,CAAWL,IAAX,CAAZ,MAAkC,IAAzC,EAA+C;AAC7CG,IAAAA,KAAK,GAAGD,QAAQ,CAACI,KAAjB;AACAF,IAAAA,GAAG,GAAGD,KAAK,GAAGD,QAAQ,CAAC,CAAD,CAAR,CAAYK,MAA1B;AACAR,IAAAA,QAAQ,CAACI,KAAD,EAAQC,GAAR,CAAR;AACD;AACF,CARD;;AAUA,OAAO,IAAMI,iBAAiB,GAAG,SAApBA,iBAAoB,CAACC,aAAD,EAAmB;AAClD,MAAMZ,KAAK,GAAG,IAAIa,MAAJ,CAAWD,aAAX,EAA0B,GAA1B,CAAd;AACA,SAAO,IAAIjB,kBAAJ,CAAuB,CAC5B;AACEmB,IAAAA,QAAQ,EAAE,kBAACb,YAAD,EAAeC,QAAf,EAA4B;AACpC,UAAIU,aAAa,KAAK,EAAtB,EAA0B;AACxBb,QAAAA,aAAa,CAACC,KAAD,EAAQC,YAAR,EAAsBC,QAAtB,CAAb;AACD;AACF,KALH;AAMEa,IAAAA,SAAS,EAAEnB;AANb,GAD4B,CAAvB,CAAP;AAUD,CAZM","sourcesContent":["// React\nimport React from 'react'\n\nimport { CompositeDecorator } from 'draft-js'\n\nconst SearchHighlight = (props) => (\n  <span className=\"search-and-replace-highlight\">{props.children}</span>\n)\n\nconst findWithRegex = (regex, contentBlock, callback) => {\n  const text = contentBlock.getText()\n  let matchArr, start, end\n  while ((matchArr = regex.exec(text)) !== null) {\n    start = matchArr.index\n    end = start + matchArr[0].length\n    callback(start, end)\n  }\n}\n\nexport const generateDecorator = (highlightTerm) => {\n  const regex = new RegExp(highlightTerm, 'g')\n  return new CompositeDecorator([\n    {\n      strategy: (contentBlock, callback) => {\n        if (highlightTerm !== '') {\n          findWithRegex(regex, contentBlock, callback)\n        }\n      },\n      component: SearchHighlight\n    }\n  ])\n}\n"],"file":"highlighter.js"}