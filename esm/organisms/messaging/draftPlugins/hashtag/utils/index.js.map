{"version":3,"sources":["../../../../../../components/organisms/messaging/draftPlugins/hashtag/utils/index.js"],"names":["regexes","extractHashtagsWithIndices","text","match","hashSigns","tags","replacer","before","hash","hashText","offset","chunk","after","slice","length","endHashtagMatch","startPosition","endPosition","push","hashtag","indices","replace","validHashtag"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,gBAApB;AAEA,OAAO,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA6B,CAACC,IAAD,EAAU;AAClD,MAAI,CAACA,IAAD,IAAS,CAACA,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,SAAnB,CAAd,EAA6C;AAC3C,WAAO,EAAP;AACD;;AACD,MAAMC,IAAI,GAAG,EAAb;;AACA,WAASC,QAAT,CAAkBH,KAAlB,EAAyBI,MAAzB,EAAiCC,IAAjC,EAAuCC,QAAvC,EAAiDC,MAAjD,EAAyDC,KAAzD,EAAgE;AAC9D,QAAMC,KAAK,GAAGD,KAAK,CAACE,KAAN,CAAYH,MAAM,GAAGP,KAAK,CAACW,MAA3B,CAAd;;AACA,QAAIF,KAAK,CAACT,KAAN,CAAYH,OAAO,CAACe,eAApB,CAAJ,EAA0C;AACxC,aAAO,EAAP;AACD;;AACD,QAAMC,aAAa,GAAGN,MAAM,GAAGH,MAAM,CAACO,MAAtC;AACA,QAAMG,WAAW,GAAGD,aAAa,GAAGP,QAAQ,CAACK,MAAzB,GAAkC,CAAtD;AACAT,IAAAA,IAAI,CAACa,IAAL,CAAU;AACRC,MAAAA,OAAO,EAAEV,QADD;AAERW,MAAAA,OAAO,EAAE,CAACJ,aAAD,EAAgBC,WAAhB;AAFD,KAAV;AAIA,WAAO,EAAP;AACD;;AACDf,EAAAA,IAAI,CAACmB,OAAL,CAAarB,OAAO,CAACsB,YAArB,EAAmChB,QAAnC;AACA,SAAOD,IAAP;AACD,CApBM","sourcesContent":["import regexes from './hashtagRegex'\n\nexport const extractHashtagsWithIndices = (text) => {\n  if (!text || !text.match(regexes.hashSigns)) {\n    return []\n  }\n  const tags = []\n  function replacer(match, before, hash, hashText, offset, chunk) {\n    const after = chunk.slice(offset + match.length)\n    if (after.match(regexes.endHashtagMatch)) {\n      return ''\n    }\n    const startPosition = offset + before.length\n    const endPosition = startPosition + hashText.length + 1\n    tags.push({\n      hashtag: hashText,\n      indices: [startPosition, endPosition]\n    })\n    return ''\n  }\n  text.replace(regexes.validHashtag, replacer)\n  return tags\n}\n"],"file":"index.js"}