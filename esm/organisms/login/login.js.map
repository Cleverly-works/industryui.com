{"version":3,"sources":["../../../components/organisms/login/login.js"],"names":["React","useContext","useState","bool","func","object","oneOfType","string","useForm","yupResolver","LoginSchema","schema","Alert","Button","FormField","Form","FormError","FormLabel","Link","PageHeading","Space","Text","UserContext","styled","ErrMessage","message","Login","blockSubmitButton","forgotPassword","heading","showTitle","submit","pathForgot","pathSignUp","remember","showLabel","showPassword","showPlaceholder","resolver","errors","formState","register","handleSubmit","error","setError","showPass","setShowPass","signIn","onSubmit","email","password","defaultOptions","prev","isSubmitting","Wrapper","div","LOGIN","theme","background","ShowPassword","propTypes","isRequired","defaultProps"],"mappings":"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","sourcesContent":["/**\n * Components - Organisms - Login\n */\n\n// React\nimport React, { useContext, useState } from 'react'\nimport { bool, func, object, oneOfType, string } from 'prop-types'\n\n// React Hook Form\nimport { useForm } from 'react-hook-form'\n\n// Yup\nimport { yupResolver } from '@hookform/resolvers/yup'\nimport { LoginSchema as schema } from './schema'\n\n// UI\nimport {\n  Alert,\n  Button,\n  FormField,\n  Form,\n  FormError,\n  FormLabel,\n  Link,\n  PageHeading,\n  Space,\n  Text,\n  UserContext\n} from '../../'\n\n// Style\nimport styled from 'styled-components'\n\nconst ErrMessage = (message) => <FormError message={message} />\n\nexport const Login = ({\n  blockSubmitButton,\n  forgotPassword,\n  heading,\n  showTitle,\n  submit,\n  pathForgot,\n  pathSignUp,\n  remember,\n  showLabel,\n  showPassword,\n  showPlaceholder\n}) => {\n  const { errors, formState, register, handleSubmit } = useForm({\n    resolver: yupResolver(schema)\n  })\n\n  const [error, setError] = useState(false)\n  const [showPass, setShowPass] = useState(false)\n\n  const { signIn } = useContext(UserContext)\n\n  const onSubmit = ({ email, password }) => {\n    if (!submit) {\n      signIn('email', email, password, (error) => error && setError(error))\n    } else {\n      submit()\n    }\n  }\n\n  const defaultOptions = {\n    errors: errors,\n    register: register\n  }\n\n  return (\n    <Wrapper>\n      {showTitle && <PageHeading center heading={heading} divider={false} />}\n\n      {error && <Alert content={error.message} context=\"warning\" />}\n\n      <Form handleSubmit={handleSubmit(onSubmit)}>\n        <FormLabel label=\"Email\">\n          <FormField\n            {...defaultOptions}\n            autoFocus\n            name=\"email\"\n            placeholder={showPlaceholder ? 'Email' : ''}\n          />\n          {errors.email && ErrMessage(errors.email.message)}\n        </FormLabel>\n\n        <FormLabel label=\"Password\">\n          <FormField\n            {...defaultOptions}\n            name=\"password\"\n            placeholder={showPlaceholder ? 'Password' : ''}\n            type={showPass ? 'text' : 'password'}\n          />\n          {errors.password && ErrMessage(errors.password.message)}\n        </FormLabel>\n\n        {showPassword && (\n          <ShowPassword\n            align=\"right\"\n            onClick={() => setShowPass((prev) => !prev)}>\n            {showPass ? 'Hide Password' : 'Show Password'}\n          </ShowPassword>\n        )}\n\n        <Button\n          align=\"right\"\n          block={blockSubmitButton}\n          content=\"Log in\"\n          context=\"primary\"\n          disabled={formState.isSubmitting}\n          size=\"lg\"\n          type=\"submit\"\n        />\n      </Form>\n\n      {forgotPassword && (\n        <>\n          <Text align=\"center\">\n            <Link to={pathForgot}>Forgot password?</Link>\n          </Text>\n          <Space marginBottom=\"md\" />\n        </>\n      )}\n\n      {pathSignUp && (\n        <Text align=\"center\">\n          Don't have an account? <Link to={pathSignUp}>Apply now!</Link>\n        </Text>\n      )}\n    </Wrapper>\n  )\n}\n\nconst Wrapper = styled.div`\n  background: ${({ theme: { LOGIN } }) => LOGIN.background};\n  padding: 1rem;\n`\n\nconst ShowPassword = styled(Text)`\n  cursor: pointer;\n  font-size: 0.75rem;\n  margin-bottom: 1rem;\n`\n\nLogin.propTypes = {\n  blockSubmitButton: bool,\n  forgotPassword: bool,\n  heading: string,\n  submit: func.isRequired,\n  pathForgot: string,\n  pathSignUp: oneOfType([object, string]),\n  remember: string,\n  showLabel: bool,\n  showPassword: bool,\n  showPlaceholder: bool,\n  showTitle: bool\n}\n\nLogin.defaultProps = {\n  blockSubmitButton: true,\n  forgotPassword: true,\n  heading: 'Log In',\n  pathForgot: '/account/forgot-details',\n  pathSignUp: '/account/sign-in',\n  remember: '',\n  showLabel: true,\n  showPassword: true,\n  showPlaceholder: false,\n  showTitle: true\n}\n"],"file":"login.js"}