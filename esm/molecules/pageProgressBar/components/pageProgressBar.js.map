{"version":3,"sources":["../../../../components/molecules/pageProgressBar/components/pageProgressBar.js"],"names":["React","useEffect","useState","bool","object","oneOf","string","NProgress","THEME_CONTEXT","Container","Bar","PageProgressBar","context","isAnimating","instanceKey","router","isRouteChanging","setIsRouteChanging","loadingKey","setLoadingKey","routeChangeStartHandler","Date","getTime","routeChangeEndHandler","events","on","animationDuration","isFinished","progress","propTypes","Object","values","defaultProps"],"mappings":";;AAAA;AACA;AACA;AAEA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,KAAvB,EAA8BC,MAA9B,QAA4C,YAA5C,C,CAEA;;AACA,SAASC,SAAT,QAA0B,wBAA1B,C,CAEA;;AACA,SAASC,aAAT,QAA8B,kCAA9B,C,CAEA;;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,GAAT,QAAoB,OAApB;AAEA,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAKzB;AAAA,MAJJC,OAII,QAJJA,OAII;AAAA,MAHJC,WAGI,QAHJA,WAGI;AAAA,MAFJC,WAEI,QAFJA,WAEI;AAAA,MADJC,MACI,QADJA,MACI;;AAAA,kBAC0Cb,QAAQ,CAAC,KAAD,CADlD;AAAA;AAAA,MACGc,eADH;AAAA,MACoBC,kBADpB;;AAAA,mBAEgCf,QAAQ,CAAC,IAAD,CAFxC;AAAA;AAAA,MAEGgB,UAFH;AAAA,MAEeC,aAFf;;AAIJ,MAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,GAAM;AACpCH,IAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACAE,IAAAA,aAAa,CAAC,IAAIE,IAAJ,GAAWC,OAAX,EAAD,CAAb;AACD,GAHD;;AAKA,MAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,GAAM;AAClCN,IAAAA,kBAAkB,CAAC,KAAD,CAAlB;AACD,GAFD;;AAIAhB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIc,MAAJ,EAAY;AACVA,MAAAA,MAAM,CAACS,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCL,uBAArC;AACAL,MAAAA,MAAM,CAACS,MAAP,CAAcC,EAAd,CAAiB,qBAAjB,EAAwCF,qBAAxC;AACAR,MAAAA,MAAM,CAACS,MAAP,CAAcC,EAAd,CAAiB,kBAAjB,EAAqCF,qBAArC;AACD;AACF,GANQ,EAMN,EANM,CAAT;AAQA,sBACE,oBAAC,SAAD;AACE,IAAA,WAAW,EAAEP,eAAe,IAAIH,WADlC;AAEE,IAAA,GAAG,EAAEK,UAAU,IAAIJ;AAFrB,KAGG;AAAA,QAAGY,iBAAH,SAAGA,iBAAH;AAAA,QAAsBC,UAAtB,SAAsBA,UAAtB;AAAA,QAAkCC,QAAlC,SAAkCA,QAAlC;AAAA,wBACC,oBAAC,SAAD;AACE,MAAA,iBAAiB,EAAEF,iBADrB;AAEE,MAAA,UAAU,EAAEC;AAFd,oBAGE,oBAAC,GAAD;AACE,MAAA,iBAAiB,EAAED,iBADrB;AAEE,MAAA,OAAO,EAAEd,OAFX;AAGE,MAAA,QAAQ,EAAEgB;AAHZ,MAHF,CADD;AAAA,GAHH,CADF;AAiBD,CA3CM;AAAMjB,e;AA6CbA,eAAe,CAACkB,SAAhB,GAA4B;AAC1BjB,EAAAA,OAAO,EAAEP,KAAK,CAACyB,MAAM,CAACC,MAAP,CAAcvB,aAAd,CAAD,CADY;AAE1BK,EAAAA,WAAW,EAAEV,IAFa;AAG1BW,EAAAA,WAAW,EAAER,MAHa;AAI1BS,EAAAA,MAAM,EAAEX;AAJkB,CAA5B;AAOAO,eAAe,CAACqB,YAAhB,GAA+B;AAC7BpB,EAAAA,OAAO,EAAE,MADoB;AAE7BC,EAAAA,WAAW,EAAE,KAFgB;AAG7BC,EAAAA,WAAW,EAAE;AAHgB,CAA/B","sourcesContent":["/**\n * Molecules - Page Progress Bar\n */\n\n// React\nimport React, { useEffect, useState } from 'react'\nimport { bool, object, oneOf, string } from 'prop-types'\n\n// React NProgress\nimport { NProgress } from '@tanem/react-nprogress'\n\n// UI\nimport { THEME_CONTEXT } from '../../../theme/constants/context'\n\n// Components\nimport { Container } from './container'\nimport { Bar } from './bar'\n\nexport const PageProgressBar = ({\n  context,\n  isAnimating,\n  instanceKey,\n  router\n}) => {\n  const [isRouteChanging, setIsRouteChanging] = useState(false)\n  const [loadingKey, setLoadingKey] = useState(null)\n\n  const routeChangeStartHandler = () => {\n    setIsRouteChanging(true)\n    setLoadingKey(new Date().getTime())\n  }\n\n  const routeChangeEndHandler = () => {\n    setIsRouteChanging(false)\n  }\n\n  useEffect(() => {\n    if (router) {\n      router.events.on('routeChangeStart', routeChangeStartHandler)\n      router.events.on('routeChangeComplete', routeChangeEndHandler)\n      router.events.on('routeChangeError', routeChangeEndHandler)\n    }\n  }, [])\n\n  return (\n    <NProgress\n      isAnimating={isRouteChanging || isAnimating}\n      key={loadingKey || instanceKey}>\n      {({ animationDuration, isFinished, progress }) => (\n        <Container\n          animationDuration={animationDuration}\n          isFinished={isFinished}>\n          <Bar\n            animationDuration={animationDuration}\n            context={context}\n            progress={progress}\n          />\n        </Container>\n      )}\n    </NProgress>\n  )\n}\n\nPageProgressBar.propTypes = {\n  context: oneOf(Object.values(THEME_CONTEXT)),\n  isAnimating: bool,\n  instanceKey: string,\n  router: object\n}\n\nPageProgressBar.defaultProps = {\n  context: 'info',\n  isAnimating: false,\n  instanceKey: null\n}\n"],"file":"pageProgressBar.js"}