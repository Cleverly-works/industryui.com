{"version":3,"sources":["../../../components/molecules/intercom/intercom.js"],"names":["memo","useEffect","string","canUseDOM","window","document","createElement","IntercomAPI","Intercom","args","apply","appID","w","d","id","s","x","i","c","arguments","q","push","async","src","head","appendChild","intercomSettings","app_id","custom_launcher_selector","propTypes","isRequired"],"mappings":"AAAA;AACA;AACA;AAEA;AACA,SAASA,IAAT,EAAeC,SAAf,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,YAAvB;AAEA,IAAMC,SAAS,GAAG,CAAC,EACjB,OAAOC,MAAP,KAAkB,WAAlB,IACAA,MAAM,CAACC,QADP,IAEAD,MAAM,CAACC,QAAP,CAAgBC,aAHC,CAAnB;AAMA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAa;AACtC,MAAIJ,SAAS,IAAIC,MAAM,CAACI,QAAxB,EAAkC;AAAA,sCADLC,IACK;AADLA,MAAAA,IACK;AAAA;;AAChCL,IAAAA,MAAM,CAACI,QAAP,CAAgBE,KAAhB,CAAsB,IAAtB,EAA4BD,IAA5B;AACD;AACF,CAJM;AAMP,OAAO,IAAMD,QAAQ,gBAAGR,IAAI,CAAC,gBAAe;AAAA,MAAZW,KAAY,QAAZA,KAAY;AAC1CV,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACU,KAAD,IAAU,CAACR,SAAf,EAA0B;AACxB;AACD;;AAED,QAAI,CAACC,MAAM,CAACI,QAAZ,EAAsB;AACpB;;AAAC,OAAC,UAACI,CAAD,EAAIC,CAAJ,EAAOC,EAAP,EAAWC,CAAX,EAAcC,CAAd,EAAoB;AACpB,iBAASC,CAAT,GAAa;AACXA,UAAAA,CAAC,CAACC,CAAF,CAAIC,SAAJ;AACD;;AACDF,QAAAA,CAAC,CAACG,CAAF,GAAM,EAAN;;AACAH,QAAAA,CAAC,CAACC,CAAF,GAAM,UAACT,IAAD,EAAU;AACdQ,UAAAA,CAAC,CAACG,CAAF,CAAIC,IAAJ,CAASZ,IAAT;AACD,SAFD;;AAGAG,QAAAA,CAAC,CAACJ,QAAF,GAAaS,CAAb;AACAF,QAAAA,CAAC,GAAGF,CAAC,CAACP,aAAF,CAAgB,QAAhB,CAAJ;AACAS,QAAAA,CAAC,CAACO,KAAF,GAAU,CAAV;AACAP,QAAAA,CAAC,CAACQ,GAAF,GAAQ,uCAAuCT,EAA/C;AACAD,QAAAA,CAAC,CAACW,IAAF,CAAOC,WAAP,CAAmBV,CAAnB;AACD,OAbA,EAaEX,MAbF,EAaUC,QAbV,EAaoBM,KAbpB;AAcF;;AAEDP,IAAAA,MAAM,CAACsB,gBAAP,GAA0B;AACxBC,MAAAA,MAAM,EAAEhB,KADgB;AAExBiB,MAAAA,wBAAwB,EAAE;AAFF,KAA1B;;AAKA,QAAIxB,MAAM,CAACI,QAAX,EAAqB;AACnBJ,MAAAA,MAAM,CAACI,QAAP,CAAgB,MAAhB;AACD;;AAED,WAAO,YAAM;AACX,UAAI,CAACL,SAAD,IAAc,CAACC,MAAM,CAACI,QAA1B,EAAoC,OAAO,KAAP;AACpCJ,MAAAA,MAAM,CAACI,QAAP,CAAgB,UAAhB;AACA,aAAOJ,MAAM,CAACI,QAAd;AACA,aAAOJ,MAAM,CAACsB,gBAAd;AACD,KALD;AAMD,GArCQ,EAqCN,EArCM,CAAT;AAuCA,SAAO,KAAP;AACD,CAzC2B,CAArB;AA2CPlB,QAAQ,CAACqB,SAAT,GAAqB;AACnBlB,EAAAA,KAAK,EAAET,MAAM,CAAC4B;AADK,CAArB","sourcesContent":["/**\n * Intercom\n */\n\n// React\nimport { memo, useEffect } from 'react'\nimport { string } from 'prop-types'\n\nconst canUseDOM = !!(\n  typeof window !== 'undefined' &&\n  window.document &&\n  window.document.createElement\n)\n\nexport const IntercomAPI = (...args) => {\n  if (canUseDOM && window.Intercom) {\n    window.Intercom.apply(null, args)\n  }\n}\n\nexport const Intercom = memo(({ appID }) => {\n  useEffect(() => {\n    if (!appID || !canUseDOM) {\n      return\n    }\n\n    if (!window.Intercom) {\n      ;((w, d, id, s, x) => {\n        function i() {\n          i.c(arguments)\n        }\n        i.q = []\n        i.c = (args) => {\n          i.q.push(args)\n        }\n        w.Intercom = i\n        s = d.createElement('script')\n        s.async = 1\n        s.src = 'https://widget.intercom.io/widget/' + id\n        d.head.appendChild(s)\n      })(window, document, appID)\n    }\n\n    window.intercomSettings = {\n      app_id: appID,\n      custom_launcher_selector: '#openIntercom'\n    }\n\n    if (window.Intercom) {\n      window.Intercom('boot')\n    }\n\n    return () => {\n      if (!canUseDOM || !window.Intercom) return false\n      window.Intercom('shutdown')\n      delete window.Intercom\n      delete window.intercomSettings\n    }\n  }, [])\n\n  return false\n})\n\nIntercom.propTypes = {\n  appID: string.isRequired\n}\n"],"file":"intercom.js"}