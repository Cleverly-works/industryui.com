{"version":3,"sources":["../../../components/molecules/tabs/tabs.js"],"names":["React","createRef","useEffect","useState","array","bool","number","object","oneOfType","string","Router","useRouter","slugify","Tab","styled","css","handleScroll","el","grabWalkSpeed","grabTimeout","slider","clickTime","isDown","isScrolling","startX","sl","addEventListener","e","timeStamp","pageX","offsetLeft","scrollLeft","classList","remove","preventDefault","add","x","walk","TabContent","activeTab","children","index","props","active","Tabs","centerTabs","className","indicatorSize","gap","grabbable","handleChange","onTabChange","scrollToActiveTab","router","wrapperRef","current","Array","isArray","Children","toArray","length","forEach","child","label","setActiveTab","onClickTabItem","tab","handleRoute","query","push","pathname","shallow","map","disabled","StyledTabs","ol","theme","TABS","borderColour","propTypes","isRequired","defaultProps"],"mappings":";;;;;;AAAA;AACA;AACA;AAEA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,MAA9B,EAAsCC,SAAtC,EAAiDC,MAAjD,QAA+D,YAA/D,C,CAEA;;AACA,OAAOC,MAAP,IAAiBC,SAAjB,QAAkC,aAAlC,C,CAEA;;AACA,SAASC,OAAT,QAAwB,WAAxB;AACA,SAASC,GAAT,QAAoB,OAApB,C,CAEA;;AACA,OAAOC,MAAP,IAAiBC,GAAjB,QAA4B,mBAA5B;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,EAAD,EAAKC,aAAL,EAAoBC,WAApB,EAAoC;AAC9D,MAAMC,MAAM,GAAGH,EAAf;AACA,MAAII,SAAJ;AACA,MAAIC,MAAM,GAAG,KAAb;AACA,MAAIC,WAAW,GAAG,KAAlB;AACA,MAAIC,MAAJ;AACA,MAAIC,EAAJ;AAEAL,EAAAA,MAAM,CAACM,gBAAP,CAAwB,WAAxB,EAAqC,UAACC,CAAD,EAAO;AAC1CN,IAAAA,SAAS,GAAGM,CAAC,CAACC,SAAd;AACAN,IAAAA,MAAM,GAAG,IAAT;AACAE,IAAAA,MAAM,GAAGG,CAAC,CAACE,KAAF,GAAUT,MAAM,CAACU,UAA1B;AACAL,IAAAA,EAAE,GAAGL,MAAM,CAACW,UAAZ;AACD,GALD;AAOAX,EAAAA,MAAM,CAACM,gBAAP,CAAwB,YAAxB,EAAsC,YAAM;AAC1CJ,IAAAA,MAAM,GAAG,KAAT;AACAC,IAAAA,WAAW,GAAG,KAAd;AACAH,IAAAA,MAAM,CAACY,SAAP,CAAiBC,MAAjB,CAAwB,QAAxB;AACD,GAJD;AAMAb,EAAAA,MAAM,CAACM,gBAAP,CAAwB,SAAxB,EAAmC,YAAM;AACvCJ,IAAAA,MAAM,GAAG,KAAT;AACAC,IAAAA,WAAW,GAAG,KAAd;AACAH,IAAAA,MAAM,CAACY,SAAP,CAAiBC,MAAjB,CAAwB,QAAxB;AACD,GAJD;AAMAb,EAAAA,MAAM,CAACM,gBAAP,CAAwB,WAAxB,EAAqC,UAACC,CAAD,EAAO;AAC1C,QAAIJ,WAAW,IAAKD,MAAM,IAAIK,CAAC,CAACC,SAAF,GAAcP,SAAd,GAA0BF,WAAxD,EAAsE;AACpEQ,MAAAA,CAAC,CAACO,cAAF;AACAd,MAAAA,MAAM,CAACY,SAAP,CAAiBG,GAAjB,CAAqB,QAArB;AACA,UAAMC,CAAC,GAAGT,CAAC,CAACE,KAAF,GAAUT,MAAM,CAACU,UAA3B;AACA,UAAMO,IAAI,GAAGD,CAAC,GAAGZ,MAAjB;AACAD,MAAAA,WAAW,GAAG,IAAd;AACAH,MAAAA,MAAM,CAACW,UAAP,GAAoBN,EAAE,GAAGY,IAAL,GAAYnB,aAAhC;AACD;AACF,GATD;AAUD,CArCM;AAuCP,OAAO,IAAMoB,UAAU,GAAG,SAAbA,UAAa,OAA6B;AAAA,MAA1BC,SAA0B,QAA1BA,SAA0B;AAAA,MAAfC,QAAe,QAAfA,QAAe;AACrD,SAAOA,QAAQ,CAACD,SAAS,CAACE,KAAX,CAAR,CAA0BC,KAA1B,CAAgCF,QAAvC;AACD,CAFM,C,CAIP;;AACA,IAAIG,MAAM,GAAG,EAAb;AAEA,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,QAYd;AAAA,MAXJC,UAWI,SAXJA,UAWI;AAAA,MAVJL,QAUI,SAVJA,QAUI;AAAA,MATJM,SASI,SATJA,SASI;AAAA,MARJC,aAQI,SARJA,aAQI;AAAA,MAPJC,GAOI,SAPJA,GAOI;AAAA,MANJC,SAMI,SANJA,SAMI;AAAA,MALJ/B,aAKI,SALJA,aAKI;AAAA,MAJJC,WAII,SAJJA,WAII;AAAA,MAHJ+B,YAGI,SAHJA,YAGI;AAAA,MAFJC,WAEI,SAFJA,WAEI;AAAA,MADJC,iBACI,SADJA,iBACI;AACJ,MAAMC,MAAM,GAAG1C,SAAS,EAAxB;AACA,MAAM2C,UAAU,gBAAGrD,SAAS,EAA5B;AAEAC,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI+C,SAAJ,EAAe;AACbjC,MAAAA,YAAY,CAACsC,UAAU,CAACC,OAAZ,EAAqBrC,aAArB,EAAoCC,WAApC,CAAZ;AACD;AACF,GAJQ,EAIN,EAJM,CAAT;;AAMA,MAAI,CAACqC,KAAK,CAACC,OAAN,CAAcjB,QAAd,CAAL,EAA8B;AAC5BA,IAAAA,QAAQ,GAAGxC,KAAK,CAAC0D,QAAN,CAAeC,OAAf,CAAuBnB,QAAvB,CAAX;AACD,GAZG,CAcJ;;;AACA,MAAIA,QAAQ,CAACoB,MAAT,GAAkB,CAAtB,EAAyB;AACvBpB,IAAAA,QAAQ,CAACqB,OAAT,CAAiB,UAACC,KAAD,EAAQrB,KAAR,EAAkB;AACjC,UAAIqB,KAAK,CAACpB,KAAN,CAAYC,MAAZ,KAAuB,IAA3B,EAAiC;AAC/BA,QAAAA,MAAM,GAAG;AACPF,UAAAA,KAAK,EAAEA,KADA;AAEPsB,UAAAA,KAAK,EAAEnD,OAAO,CAACkD,KAAK,CAACpB,KAAN,CAAYqB,KAAb;AAFP,SAAT;AAID;AACF,KAPD;AAQD,GATD,MASO;AACLpB,IAAAA,MAAM,GAAG;AACPF,MAAAA,KAAK,EAAE,CADA;AAEPsB,MAAAA,KAAK,EAAEnD,OAAO,CAAC4B,QAAQ,CAAC,CAAD,CAAR,CAAYE,KAAZ,CAAkBqB,KAAnB;AAFP,KAAT;AAID;;AA7BG,kBA+B8B5D,QAAQ,CAACwC,MAAD,CA/BtC;AAAA;AAAA,MA+BGJ,SA/BH;AAAA,MA+BcyB,YA/Bd;;AAiCJ,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,QAAsB;AAAA,QAAnBxB,KAAmB,SAAnBA,KAAmB;AAAA,QAAZsB,KAAY,SAAZA,KAAY;AAC3C,QAAMG,GAAG,GAAGtD,OAAO,CAACmD,KAAD,CAAnB;AACAC,IAAAA,YAAY,CAAC;AAAEvB,MAAAA,KAAK,EAAEA,KAAT;AAAgBsB,MAAAA,KAAK,EAAEG;AAAvB,KAAD,CAAZ;;AAEA,QAAIhB,YAAJ,EAAkB;AAChBiB,MAAAA,WAAW,CAACD,GAAD,CAAX;AACD;;AAED,QAAIf,WAAJ,EAAiB;AACfA,MAAAA,WAAW,CAACe,GAAD,CAAX;AACD;AACF,GAXD;;AAaA,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,GAAD,EAAS;AAC3B,QAAME,KAAK,GAAGf,MAAM,CAACe,KAArB;AACA,WAAOA,KAAK,CAACF,GAAb;AACAE,IAAAA,KAAK,CAACF,GAAN,GAAYA,GAAZ;AAEAxD,IAAAA,MAAM,CAAC2D,IAAP,CAAY;AACVC,MAAAA,QAAQ,EAAEjB,MAAM,CAACiB,QADP;AAEVF,MAAAA,KAAK,EAAEA,KAFG;AAGVG,MAAAA,OAAO,EAAE;AAHC,KAAZ;AAKD,GAVD;;AAYA,sBACE,uDACE,oBAAC,UAAD;AACE,IAAA,UAAU,EAAE1B,UADd;AAEE,IAAA,SAAS,EAAEC,SAFb;AAGE,IAAA,GAAG,EAAEE,GAHP;AAIE,IAAA,SAAS,EAAEC,SAJb;AAKE,IAAA,GAAG,EAAEK;AALP,KAMGd,QAAQ,CAACgC,GAAT,CAAa,iBAAY/B,KAAZ,EAAsB;AAAA,QAAnBC,KAAmB,SAAnBA,KAAmB;AAClC,wBACE,oBAAC,GAAD;AACE,MAAA,SAAS,EAAEH,SADb;AAEE,MAAA,KAAK,EAAEE,KAFT;AAGE,MAAA,GAAG,EAAEC,KAAK,CAACqB,KAHb;AAIE,MAAA,OAAO,EAAE,CAACrB,KAAK,CAAC+B,QAAP,IAAmBR,cAJ9B;AAKE,MAAA,iBAAiB,EAAEb,iBALrB;AAME,MAAA,GAAG,EAAEJ,GANP;AAOE,MAAA,aAAa,EAAED;AAPjB,OAQML,KARN,EADF;AAYD,GAbA,CANH,CADF,eAuBE,oBAAC,UAAD;AAAY,IAAA,SAAS,EAAEH,SAAvB;AAAkC,IAAA,QAAQ,EAAEC;AAA5C,IAvBF,CADF;AA2BD,CAjGM;AAmGP,IAAMkC,UAAU,GAAG5D,MAAM,CAAC6D,EAAV,qXAEa;AAAA,MAAGC,KAAH,SAAGA,KAAH;AAAA,SAAeA,KAAK,CAACC,IAAN,CAAWC,YAA1B;AAAA,CAFb,EAIZ;AAAA,MAAG9B,GAAH,SAAGA,GAAH;AAAA,SACAA,GAAG,KAAK,CAAR,IACAjC,GADA,kGAESiC,GAFT,CADA;AAAA,CAJY,EAUZ;AAAA,MAAGH,UAAH,SAAGA,UAAH;AAAA,SACAA,UAAU,IACV9B,GADU,6GADV;AAAA,CAVY,EA0BZ;AAAA,MAAGkC,SAAH,SAAGA,SAAH;AAAA,SACAA,SAAS,IACTlC,GADS,4NADT;AAAA,CA1BY,CAAhB;AAwCA6B,IAAI,CAACmC,SAAL,GAAiB;AACflC,EAAAA,UAAU,EAAExC,IADG;AAEfmC,EAAAA,QAAQ,EAAEhC,SAAS,CAAC,CAACJ,KAAD,EAAQG,MAAR,CAAD,CAAT,CAA2ByE,UAFtB;AAGflC,EAAAA,SAAS,EAAErC,MAHI;AAIfuC,EAAAA,GAAG,EAAE1C,MAJU;AAKf2C,EAAAA,SAAS,EAAE5C,IALI;AAMfa,EAAAA,aAAa,EAAEZ,MANA;AAOfa,EAAAA,WAAW,EAAEb,MAPE;AAQf4C,EAAAA,YAAY,EAAE7C,IARC;AASf0C,EAAAA,aAAa,EAAEzC,MATA;AAUf8C,EAAAA,iBAAiB,EAAE/C;AAVJ,CAAjB;AAaAuC,IAAI,CAACqC,YAAL,GAAoB;AAClBpC,EAAAA,UAAU,EAAE,KADM;AAElBG,EAAAA,GAAG,EAAE,CAFa;AAGlBC,EAAAA,SAAS,EAAE,IAHO;AAIlB/B,EAAAA,aAAa,EAAE,EAJG;AAKlBC,EAAAA,WAAW,EAAE,GALK;AAMlB+B,EAAAA,YAAY,EAAE,IANI;AAOlBH,EAAAA,aAAa,EAAE,CAPG;AAQlBK,EAAAA,iBAAiB,EAAE;AARD,CAApB","sourcesContent":["/**\n * Components - Molecules - Tabs - Components - Tabs\n */\n\n// React\nimport React, { createRef, useEffect, useState } from 'react'\nimport { array, bool, number, object, oneOfType, string } from 'prop-types'\n\n// Next\nimport Router, { useRouter } from 'next/router'\n\n// UI\nimport { slugify } from '../../../'\nimport { Tab } from './tab'\n\n// Style\nimport styled, { css } from 'styled-components'\n\nexport const handleScroll = (el, grabWalkSpeed, grabTimeout) => {\n  const slider = el\n  let clickTime\n  let isDown = false\n  let isScrolling = false\n  let startX\n  let sl\n\n  slider.addEventListener('mousedown', (e) => {\n    clickTime = e.timeStamp\n    isDown = true\n    startX = e.pageX - slider.offsetLeft\n    sl = slider.scrollLeft\n  })\n\n  slider.addEventListener('mouseleave', () => {\n    isDown = false\n    isScrolling = false\n    slider.classList.remove('active')\n  })\n\n  slider.addEventListener('mouseup', () => {\n    isDown = false\n    isScrolling = false\n    slider.classList.remove('active')\n  })\n\n  slider.addEventListener('mousemove', (e) => {\n    if (isScrolling || (isDown && e.timeStamp - clickTime > grabTimeout)) {\n      e.preventDefault()\n      slider.classList.add('active')\n      const x = e.pageX - slider.offsetLeft\n      const walk = x - startX\n      isScrolling = true\n      slider.scrollLeft = sl - walk + grabWalkSpeed\n    }\n  })\n}\n\nexport const TabContent = ({ activeTab, children }) => {\n  return children[activeTab.index].props.children\n}\n\n// Active\nlet active = ''\n\nexport const Tabs = ({\n  centerTabs,\n  children,\n  className,\n  indicatorSize,\n  gap,\n  grabbable,\n  grabWalkSpeed,\n  grabTimeout,\n  handleChange,\n  onTabChange,\n  scrollToActiveTab\n}) => {\n  const router = useRouter()\n  const wrapperRef = createRef()\n\n  useEffect(() => {\n    if (grabbable) {\n      handleScroll(wrapperRef.current, grabWalkSpeed, grabTimeout)\n    }\n  }, [])\n\n  if (!Array.isArray(children)) {\n    children = React.Children.toArray(children)\n  }\n\n  // Find active in children if more than one tab or make first active\n  if (children.length > 1) {\n    children.forEach((child, index) => {\n      if (child.props.active === true) {\n        active = {\n          index: index,\n          label: slugify(child.props.label)\n        }\n      }\n    })\n  } else {\n    active = {\n      index: 0,\n      label: slugify(children[0].props.label)\n    }\n  }\n\n  const [activeTab, setActiveTab] = useState(active)\n\n  const onClickTabItem = ({ index, label }) => {\n    const tab = slugify(label)\n    setActiveTab({ index: index, label: tab })\n\n    if (handleChange) {\n      handleRoute(tab)\n    }\n\n    if (onTabChange) {\n      onTabChange(tab)\n    }\n  }\n\n  const handleRoute = (tab) => {\n    const query = router.query\n    delete query.tab\n    query.tab = tab\n\n    Router.push({\n      pathname: router.pathname,\n      query: query,\n      shallow: true\n    })\n  }\n\n  return (\n    <>\n      <StyledTabs\n        centerTabs={centerTabs}\n        className={className}\n        gap={gap}\n        grabbable={grabbable}\n        ref={wrapperRef}>\n        {children.map(({ props }, index) => {\n          return (\n            <Tab\n              activeTab={activeTab}\n              index={index}\n              key={props.label}\n              onClick={!props.disabled && onClickTabItem}\n              scrollToActiveTab={scrollToActiveTab}\n              gap={gap}\n              indicatorSize={indicatorSize}\n              {...props}\n            />\n          )\n        })}\n      </StyledTabs>\n\n      <TabContent activeTab={activeTab} children={children} />\n    </>\n  )\n}\n\nconst StyledTabs = styled.ol`\n  align-items: flex-end;\n  border-bottom: 1px solid ${({ theme }) => theme.TABS.borderColour};\n  display: flex;\n  ${({ gap }) =>\n    gap !== 0 &&\n    css`\n      gap: ${gap}px;\n    `}\n\n  ${({ centerTabs }) =>\n    centerTabs &&\n    css`\n      justify-content: center;\n    `}\n\n  margin: 0 0 1rem 0;\n  padding-left: 0;\n  overflow-x: scroll;\n  user-select: none;\n  white-space: nowrap;\n  -ms-overflow-style: none;\n  &&::-webkit-scrollbar {\n    display: none;\n  }\n\n  ${({ grabbable }) =>\n    grabbable &&\n    css`\n      &.active {\n        cursor: grabbing;\n\n        li {\n          cursor: grabbing;\n          pointer-events: none;\n        }\n      }\n    `}\n`\n\nTabs.propTypes = {\n  centerTabs: bool,\n  children: oneOfType([array, object]).isRequired,\n  className: string,\n  gap: number,\n  grabbable: bool,\n  grabWalkSpeed: number,\n  grabTimeout: number,\n  handleChange: bool,\n  indicatorSize: number,\n  scrollToActiveTab: bool\n}\n\nTabs.defaultProps = {\n  centerTabs: false,\n  gap: 0,\n  grabbable: true,\n  grabWalkSpeed: 25,\n  grabTimeout: 100,\n  handleChange: true,\n  indicatorSize: 1,\n  scrollToActiveTab: true\n}\n"],"file":"tabs.js"}