{"version":3,"sources":["../../../components/utils/convertImgUrlToDataURLviaCanvas/index.js"],"names":["convertImgUrlToDataURLviaCanvas","url","Promise","resolve","reject","img","window","Image","crossOrigin","onload","canvas","document","createElement","ctx","getContext","height","width","drawImage","dataURL","toDataURL","onerror","Error","src"],"mappings":"AAAA;AACA;AACA;AACA,OAAO,IAAMA,+BAA+B,GAAG,SAAlCA,+BAAkC,CAACC,GAAD,EAAS;AACtD,SAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,QAAMC,GAAG,GAAG,IAAIC,MAAM,CAACC,KAAX,EAAZ;AAEAF,IAAAA,GAAG,CAACG,WAAJ,GAAkB,GAAlB;;AAEAH,IAAAA,GAAG,CAACI,MAAJ,GAAa,YAAY;AACvB,UAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAb;AACA,UAAMC,GAAG,GAAGH,MAAM,CAACI,UAAP,CAAkB,IAAlB,CAAZ;AAEAJ,MAAAA,MAAM,CAACK,MAAP,GAAgB,KAAKA,MAArB;AACAL,MAAAA,MAAM,CAACM,KAAP,GAAe,KAAKA,KAApB;AAEAH,MAAAA,GAAG,CAACI,SAAJ,CAAc,IAAd,EAAoB,CAApB,EAAuB,CAAvB;AAEA,UAAMC,OAAO,GAAGR,MAAM,CAACS,SAAP,EAAhB;AAEAhB,MAAAA,OAAO,CAACe,OAAD,CAAP;AAEAR,MAAAA,MAAM,GAAG,IAAT;AACD,KAdD;;AAgBAL,IAAAA,GAAG,CAACe,OAAJ,GAAc,YAAY;AACxBhB,MAAAA,MAAM,CAAC,IAAIiB,KAAJ,CAAU,6BAA6BpB,GAAvC,CAAD,CAAN;AACD,KAFD;;AAIAI,IAAAA,GAAG,CAACiB,GAAJ,GAAUrB,GAAV;AACD,GA1BM,CAAP;AA2BD,CA5BM","sourcesContent":["/**\n * Converts an image URL to Data URL (Base64) using Canvas\n */\nexport const convertImgUrlToDataURLviaCanvas = (url) => {\n  return new Promise(function (resolve, reject) {\n    const img = new window.Image()\n\n    img.crossOrigin = '*'\n\n    img.onload = function () {\n      let canvas = document.createElement('canvas')\n      const ctx = canvas.getContext('2d')\n\n      canvas.height = this.height\n      canvas.width = this.width\n\n      ctx.drawImage(this, 0, 0)\n\n      const dataURL = canvas.toDataURL()\n\n      resolve(dataURL)\n\n      canvas = null\n    }\n\n    img.onerror = function () {\n      reject(new Error('Could not load image at ' + url))\n    }\n\n    img.src = url\n  })\n}\n"],"file":"index.js"}