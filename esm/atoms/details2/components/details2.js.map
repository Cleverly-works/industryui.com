{"version":3,"sources":["../../../../components/atoms/details2/components/details2.js"],"names":["React","useEffect","useRef","useState","DetailsSubscriber","Details2Header","Details2Content","MessageNames","useComponentCommunication","Details2PropTypes","Details2DefaultProps","styled","css","Details2","animationDuration","children","contentStyle","context","disableAnimation","endActionComponent","fitParentHeight","headerContext","iconComponent","open","startActionComponent","style","title","titleContext","toolbar","uniqueId","unmountContentOnClose","animationTime","isOpen","setisOpen","mounted","setMounted","contentHeight","setcontentHeight","contentRef","setTimeout","window","requestAnimationFrame","current","offsetHeight","handleEventRecieve","e","id","messageName","DetailsComponent","SET_OPEN","onRecieve","subscriber","handleOpenClose","Wrapper","div","theme","DETAILS2","wrapper","background","COLOUR","propTypes","defaultProps"],"mappings":"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","sourcesContent":["/**\n * Components - Atoms - Details2\n */\n\n// React\nimport React, { useEffect, useRef, useState } from 'react'\n\n// UI\nimport {\n  DetailsSubscriber,\n  Details2Header,\n  Details2Content,\n  MessageNames,\n  useComponentCommunication\n} from '../../../'\n\nimport { Details2PropTypes, Details2DefaultProps } from '../props'\n\n// Style\nimport styled, { css } from 'styled-components'\n\nexport const Details2 = ({\n  animationDuration,\n  children,\n  contentStyle,\n  context,\n  disableAnimation,\n  endActionComponent,\n  fitParentHeight,\n  headerContext,\n  iconComponent,\n  open,\n  startActionComponent,\n  style,\n  title,\n  titleContext,\n  toolbar,\n  uniqueId,\n  unmountContentOnClose\n}) => {\n  const animationTime = disableAnimation ? 0 : animationDuration\n  const [isOpen, setisOpen] = useState(open)\n  const [mounted, setMounted] = useState(unmountContentOnClose ? open : true)\n  const [contentHeight, setcontentHeight] = useState(0)\n\n  const contentRef = useRef(null)\n\n  useEffect(() => {\n    if (unmountContentOnClose) {\n      isOpen\n        ? setMounted(() => true)\n        : setTimeout(() => {\n            window &&\n              window.requestAnimationFrame(() => {\n                setMounted(() => false)\n              })\n          }, animationTime ?? 300)\n    }\n\n    setTimeout(\n      () => {\n        window &&\n          window.requestAnimationFrame(() => {\n            contentRef.current &&\n              setcontentHeight(() => contentRef.current.offsetHeight)\n          })\n      },\n      !isOpen ? animationTime ?? 300 : 0\n    )\n\n    return () => {}\n  }, [contentRef.current, isOpen])\n\n  const handleEventRecieve = (e) => {\n    setisOpen(e)\n  }\n\n  useComponentCommunication({\n    id: uniqueId,\n    messageName: MessageNames.DetailsComponent.SET_OPEN,\n    onRecieve: (e) => handleEventRecieve(e),\n    subscriber: DetailsSubscriber\n  })\n\n  const handleOpenClose = () => {\n    setisOpen((isOpen) => !isOpen)\n  }\n\n  return (\n    <Wrapper\n      context={context}\n      style={style}\n      fitParentHeight={fitParentHeight}\n      open={isOpen}>\n      <Details2Header\n        animationtime={animationTime}\n        children={children}\n        headerContext={headerContext}\n        handleOpenClose={handleOpenClose}\n        iconComponent={iconComponent}\n        isOpen={isOpen}\n        title={title}\n        titleContext={titleContext}\n      />\n\n      {children && (\n        <Details2Content\n          animationTime={animationTime}\n          children={children}\n          contentRef={contentRef}\n          fitParentHeight={fitParentHeight}\n          isOpen={isOpen}\n          maxHeight={contentHeight}\n          mounted={mounted}\n        />\n      )}\n    </Wrapper>\n  )\n}\n\nconst Wrapper = styled.div`\n  background: ${({ theme }) => theme.DETAILS2.wrapper.background};\n  border-bottom: 2px solid\n    ${({ theme, context }) => (context ? theme.COLOUR[context] : 'white')};\n  transition: height 0.3 cubic-bezier(0.4, 0, 0.2, 1);\n  width: 100%;\n\n  ${({ fitParentHeight, open }) => {\n    return (\n      fitParentHeight &&\n      css`\n        height: ${!open ? '3.6rem' : '100%'};\n      `\n    )\n  }}\n`\n\nDetails2.propTypes = Details2PropTypes\nDetails2.defaultProps = Details2DefaultProps\n"],"file":"details2.js"}